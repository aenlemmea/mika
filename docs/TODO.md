1. Unify the unit testing functions in some giant switch case or maybe extract out the interfaces.
2. Make the lexer buffer-able.
3. 
